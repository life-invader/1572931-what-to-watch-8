# Кинотеатр
[Деплой на vercel](https://leontyev-accelerator-react-starter-pack.vercel.app/)
---

---

## Table of contents
* [Описание проекта](#Описание)
* [API](#API)
* [Директории](#Директории)
* [Скрипты](#Скрипты)

---

### Описание
Онлайн-кинотеатр. Состоит из пяти страниц. Каталог, страница фильма, страница добавления отзыва, страница регистрации, список избранных фильмов. Есть несложная регистрация. В ответ на регистрацию сервер присылает токен (просто строка, набор символов), он сохраняется в localStorage. При разлогине токен дропается из localStorage и пользователь считается неавторизованным.
Проект сделан на `React - Redux - Redux-thunk - Typescript - Axios`

#### Страница каталога
- Показывает список карточек фильмов
- Есть фильтрация по жанрам. Фильтрация на клиенте
- Есть постер промо фильма, его можно добавить в избранное или 'посмотреть' 
(вместо самого фильма загрузится другое видео из общедоступного источника)
- На время загрузки страницы показывается лоадер

#### Страница фильма
* Можно посмотреть информацию о фильме, переключаясь между табами
* Есть возможность оставить отзыв (перенаправит на страницу отзыва), добавить в избранное или 'посмотреть' 
* Если пользователь не авторизован, добавить фильм в избранное или добавить отзыв не получится
* Внизу страницы показывается четыре похожих фильма

#### Страница добавления отзыва
- Есть возможность добавить отзыв и поставить оценку (1 - 10)
- Есть простенькая валидация. Комментарий должен быть от 45 - 400 символов и должна быть выставлена оценка, иначе коммент не отправится
- После успешного добавления отзыва происходит редирект обратно на страницу с фильмом
- Если пользователь не авторизован, кнопка 'добавить отзыв' показана не будет и отправить комментарий будет невозможно

#### Страница избранных фильмов
* Просто список добавленных в избранное фильмов, если пользователь еще ничего не добавил, список будет пустым
* Добавлять фильмы в избранное и страница избранных фильмов доступны только авторизованным пользователям
  
#### Страница регистрации
* Простая форма регистрации с полями для email и пароля
* Логин и пароль могут быть любыми, но не пустыми
* После регистрации происходит редирект на главную
* Редирект реализован через redux middleware

---

## Getting Started

---

## API

URL: https://8.react.pages.academy/wtw

### Список роутов

- GET `/films` – Получение списка фильмов.
- GET `/films/:id` – Получение фильма с идентификатором `id`.
- GET `/films/:id/similar` – Получение списка похожих фильмов.
- GET `/promo` – Получение промо-фильма.
- GET `/favorite` – Получение избранного списка фильмов.
- GET `/comments/:film_id` – Получить список комментариев для фильма по его `id`.
- GET `/login` – Проверка статуса авторизации пользователя.
- POST  `/favorite/:film_id/:status` – Изменение статуса «избранного» у фильма. В теле ответа приходят данные фильма с актуальным состоянием поля `is_favorite`. Поле `:status` — значения могут быть 1 или 0. 1 добавляет фильм в список «к просмотру», 0 удаляет.
- POST `/comments/:film_id` – Отправить новый комментарий к фильму по его `id`.
- POST `/login` – Авторизация пользователя на сервере. В случае успешного запроса сервер вернёт токен, по которому в дальнейшем происходит авторизация. Этот токен необходимо передавать через заголовок X-Token. Если авторизация не проходит, сервер вернёт код состояния 401 при запросах на закрытые части сайта.
- DELETE  `/logout` — Выход из закрытой части приложения.


## Директории

### project

Директория проекта.

### project/public

Директория для размещения статичных ресурсов (шрифты, стили, изображения и так далее).

### project/src

Директория для размещения исходного кода проекта: компоненты, файлы с тестами, модули и т.д.

---

## Скрипты

### Запуск проекта

```bash
npm start
```

### Запуск тестов

```bash
npm test
```

Подробнее про тесты => [Запуск тестов](https://facebook.github.io/create-react-app/docs/running-tests).

### Проверка линтером

```bash
npm run eslint
```

### Сборка проекта

```bash
npm run build
```

### Извлечение конфигурации проекта

```bash
npm run eject
```

